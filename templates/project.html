<!DOCTYPE html>
<html>
<head>
    <title>GLaDOS</title>
{{template "head.html"}}
</head>
<body>
{{template "nav-projects.html"}}
    <div class="container">
        <h1>{{.Name}}</h1>
        <div id="view">
            {{with .Description}}<p>{{.}}</p>{{end}}
            <dl class="dl-horizontal">
                <dt>Short Name</dt><dd>{{.ShortName}}</dd>
                {{with .Homepage}}<dt>Homepage</dt><dd><a href="{{.}}" title="{{.|prettyurl}}">{{.|prettyurl|ellipsis 25}}</a></dd>{{end}}
                {{with .Tags}}<dt>Tags</dt><dd>{{template "tagset.html" .}}</dd>{{end}}
                {{with .VCS}}
                <dt>VCS</dt><dd>{{.Type}}</dd>
                {{with .URL}}<dt>VCS Link</dt><dd><a href="{{.}}" title="{{.|prettyurl}}">{{.|prettyurl|ellipsis 25}}</a></dd>{{end}}
                {{end}}
                <dt>Created</dt><dd>{{.CreateTime}}</dd>
                <dt>Catalogued</dt><dd>{{.CatalogTime}}</dd>
                <dt>ID</dt><dd>{{.ID}}</dd>
            </dl>
            <a id="editbtn" href="#" class="btn">Edit</a>
        </div>
        <form id="edit" class="span6" method="POST" action="{{path "updateproject" "project" .ShortName}}" style="display:none">
            <fieldset>
                <label>Name</label>
                <input type="text" class="span2" name="name" value="{{.Name}}">
                <label>Short Name</label>
                <input type="text" class="span1" name="shortname" value="{{.ShortName}}">
                <label>Description</label>
                <textarea name="description" class="span4" rows="4">{{.Description}}</textarea>
                <label>Homepage</label>
                <input type="text" class="span3" name="url" value="{{.Homepage}}">
                <label>Tags</label>
                <input type="text" class="span3" name="tags" value="{{.Tags}}">
                <label>VCS</label>
                <select name="vcs">
                    <option value=""{{with .VCS}}{{if stringeq .Type ""}} selected{{end}}{{end}}>None</option>
                    <option value="cvs"{{with .VCS}}{{if stringeq .Type "cvs"}} selected{{end}}{{end}}>CVS</option>
                    <option value="svn"{{with .VCS}}{{if stringeq .Type "svn"}} selected{{end}}{{end}}>Subversion</option>
                    <option value="hg"{{with .VCS}}{{if stringeq .Type "hg"}} selected{{end}}{{end}}>Mercurial</option>
                    <option value="git"{{with .VCS}}{{if stringeq .Type "git"}} selected{{end}}{{end}}>Git</option>
                    <option value="bzr"{{with .VCS}}{{if stringeq .Type "bzr"}} selected{{end}}{{end}}>Bazaar</option>
                    <option value="darcs"{{with .VCS}}{{if stringeq .Type "darcs"}} selected{{end}}{{end}}>Darcs</option>
                </select>
                <label>VCS URL</label>
                <input type="text" class="span3" name="url" value="{{with .VCS}}{{.URL}}{{end}}">
                <div class="form-actions">
                    <button id="editsave" type="submit" class="btn btn-primary">Save</button>
                    <button id="editcancel" class="btn">Cancel</button>
                </div>
            </fieldset>
        </form>
    </div>
{{template "js.html"}}
<script type="text/javascript" src="{{path "js" "path" "project.js"}}"></script>
</body>
</html>
